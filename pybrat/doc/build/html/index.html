
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>pybrat &#8212; pybrat 0.1.0 documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="pybrat">
<h1>pybrat<a class="headerlink" href="#pybrat" title="Permalink to this headline">¶</a></h1>
<p><cite>pybrat</cite> is a simple package for reading brat-formatted text annotations.</p>
<p><a class="reference external" href="https://github.com/jvasilakes/pybrat">https://github.com/jvasilakes/pybrat</a></p>
</div>
<div class="section" id="installation">
<h1>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h1>
<p><cite>pybrat</cite> is written for Python 3 and has no external dependencies. Install it with</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>python setup.py develop
</pre></div>
</div>
<p>Using <cite>develop</cite> should update your installed version when you pull changes from the github.</p>
</div>
<div class="section" id="uninstallation">
<h1>Uninstallation<a class="headerlink" href="#uninstallation" title="Permalink to this headline">¶</a></h1>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>python setup.py develop --uninstall
</pre></div>
</div>
</div>
<div class="section" id="usage">
<h1>Usage<a class="headerlink" href="#usage" title="Permalink to this headline">¶</a></h1>
<p>The <cite>pybrat.BratAnnotations</cite> class automatically links events to their associated text spans and attributes.
Parse a <cite>.ann</cite> file and iterate through the contents with</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pybrat</span> <span class="kn">import</span> <span class="n">BratAnnotations</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">anns</span> <span class="o">=</span> <span class="n">BratAnnotations</span><span class="o">.</span><span class="n">from_file</span><span class="p">(</span><span class="s2">&quot;/path/to/file.ann&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">ann</span> <span class="ow">in</span> <span class="n">anns</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>   <span class="k">print</span><span class="p">(</span><span class="n">ann</span><span class="p">)</span>
<span class="gp">... </span><span class="s2">&quot;E1      PROCESS_OF:T8 PathologicFunction:T5 AgeGroup:T6</span>
</pre></div>
</div>
<p>By default the <cite>__iter__</cite> method will iterate through the highest level annotations.
You can iterate through specific types of annotations with the <cite>.spans</cite>, <cite>.attributes</cite>, and <cite>.events</cite> properties. E.g.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">span</span> <span class="ow">in</span> <span class="n">anns</span><span class="o">.</span><span class="n">spans</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">print</span><span class="p">(</span><span class="n">span</span><span class="p">)</span>
<span class="gp">... </span><span class="s2">&quot;T8      PROCESS_OF 86 88        in&quot;</span>
</pre></div>
</div>
<p>You can output brat formatted annotations simply by calling <cite>str(ann)</cite> or <cite>print(ann)</cite>. This works for individual annotations,
as shown above, or for a <cite>BratAnnotations</cite> instance.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">anns</span> <span class="o">=</span> <span class="n">BratAnnotations</span><span class="o">.</span><span class="n">from_file</span><span class="p">(</span><span class="s2">&quot;/path/to/file.ann&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span><span class="p">(</span><span class="n">anns</span><span class="p">)</span>
<span class="gp">... </span><span class="s2">&quot;&quot;&quot;</span>
<span class="go">T6   AgeGroup 89 97  children</span>
<span class="go">T5   PathologicFunction 73 79        reflux</span>
<span class="go">T8   PROCESS_OF 86 88        in</span>
<span class="go">E1   PROCESS_OF:T8 PathologicFunction:T5 AgeGroup:T6</span>
<span class="gp">...</span>
<span class="go">&quot;&quot;&quot;</span>
</pre></div>
</div>
<p>New! You can specify raw text and/or sentence-segmented text,
which allows you to easily cross-reference annotations with their associated text spans.</p>
<p>JSONL formatted sentences</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$&gt; cat sentences.jsonl

<span class="o">{</span><span class="s2">&quot;sent_index&quot;</span>: <span class="m">1</span>,
 <span class="s2">&quot;start_char&quot;</span>: <span class="m">0</span>,
 <span class="s2">&quot;end_char: 23,</span>
<span class="s2"> &quot;</span>_text<span class="s2">&quot;: &quot;</span>The cat sat on the mat.<span class="s2">&quot;}</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pybrat</span> <span class="kn">import</span> <span class="n">BratAnnotations</span><span class="p">,</span> <span class="n">BratText</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">anns</span> <span class="o">=</span> <span class="n">BratAnnotations</span><span class="o">.</span><span class="n">from_file</span><span class="p">(</span><span class="s2">&quot;path/to/file.ann&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">anntxt</span> <span class="o">=</span> <span class="n">BratText</span><span class="o">.</span><span class="n">from_files</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;path/to/file.txt&quot;</span><span class="p">,</span> <span class="n">sentences</span><span class="o">=</span><span class="s2">&quot;path/to/file.jsonl&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span><span class="p">(</span><span class="n">anns</span><span class="o">.</span><span class="n">events</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="gp">... </span><span class="s2">&quot;E1      SIT:T2 Animal:T1 Location:T3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">event_sentences</span> <span class="o">=</span> <span class="n">annstxt</span><span class="o">.</span><span class="n">sentences</span><span class="p">(</span><span class="n">anns</span><span class="o">.</span><span class="n">events</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span><span class="p">(</span><span class="n">event_sentences</span><span class="p">)</span>
<span class="gp">... </span><span class="p">[{</span><span class="s2">&quot;sent_index&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
<span class="gp">... </span>  <span class="s2">&quot;start_char&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
<span class="gp">... </span>  <span class="s2">&quot;end_char&quot;</span><span class="p">:</span> <span class="mi">23</span><span class="p">,</span>
<span class="gp">... </span>  <span class="s2">&quot;_text&quot;</span><span class="p">:</span> <span class="s2">&quot;The cat sat on the mat.&quot;</span><span class="p">}]</span>
</pre></div>
</div>
</div>
<div class="section" id="api">
<h1>API<a class="headerlink" href="#api" title="Permalink to this headline">¶</a></h1>
<div class="toctree-wrapper compound">
</div>
<span class="target" id="module-pybrat"></span><dl class="class">
<dt id="pybrat.Annotation">
<em class="property">class </em><code class="descclassname">pybrat.</code><code class="descname">Annotation</code><span class="sig-paren">(</span><em>_id: str</em>, <em>_type: str</em>, <em>_source_file: str = None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pybrat.html#Annotation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pybrat.Annotation" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>The base class for brat annotations.
Use Span, Event, or Attribute instead of this class.</p>
<dl class="method">
<dt id="pybrat.Annotation.copy">
<code class="descname">copy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pybrat.html#Annotation.copy"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pybrat.Annotation.copy" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="pybrat.Annotation.id">
<code class="descname">id</code><a class="headerlink" href="#pybrat.Annotation.id" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pybrat.Annotation.short_repr">
<code class="descname">short_repr</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pybrat.html#Annotation.short_repr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pybrat.Annotation.short_repr" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pybrat.Annotation.to_brat_str">
<code class="descname">to_brat_str</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pybrat.html#Annotation.to_brat_str"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pybrat.Annotation.to_brat_str" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="pybrat.Annotation.type">
<code class="descname">type</code><a class="headerlink" href="#pybrat.Annotation.type" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pybrat.Annotation.update">
<code class="descname">update</code><span class="sig-paren">(</span><em>key</em>, <em>value</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pybrat.html#Annotation.update"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pybrat.Annotation.update" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="pybrat.Attribute">
<em class="property">class </em><code class="descclassname">pybrat.</code><code class="descname">Attribute</code><span class="sig-paren">(</span><em>_id</em>, <em>value</em>, <em>reference=None</em>, <em>_type='Attribute'</em>, <em>_source_file=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pybrat.html#Attribute"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pybrat.Attribute" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pybrat.Annotation" title="pybrat.Annotation"><code class="xref py py-class docutils literal notranslate"><span class="pre">pybrat.Annotation</span></code></a></p>
<p>A brat attribute. Can be attached to Spans or Events.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>_id</strong> (<em>str</em>) – the unique numerical identifier of this attribute with
the ‘A’ prefix. E.g., ‘A5’.</li>
<li><strong>value</strong> (<em>Any</em>) – the value of this attribute.</li>
<li><strong>reference</strong> (<a class="reference internal" href="#pybrat.Annotation" title="pybrat.Annotation"><em>Annotation</em></a>) – the corresponding Span or Event instance.</li>
<li><strong>_type</strong> (<em>str</em>) – (Optional) a string giving the type of this attribute.
Default is ‘Attribute’.</li>
<li><strong>_source_file</strong> (<em>str</em>) – (Optional), the name of the .ann file which
contains this span.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="pybrat.Attribute.end_index">
<code class="descname">end_index</code><a class="headerlink" href="#pybrat.Attribute.end_index" title="Permalink to this definition">¶</a></dt>
<dd><p>The ending character index of this Attribute’s reference.</p>
</dd></dl>

<dl class="attribute">
<dt id="pybrat.Attribute.span">
<code class="descname">span</code><a class="headerlink" href="#pybrat.Attribute.span" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="pybrat.Attribute.start_index">
<code class="descname">start_index</code><a class="headerlink" href="#pybrat.Attribute.start_index" title="Permalink to this definition">¶</a></dt>
<dd><p>The starting character index of this Attribute’s reference.</p>
</dd></dl>

<dl class="method">
<dt id="pybrat.Attribute.to_brat_str">
<code class="descname">to_brat_str</code><span class="sig-paren">(</span><em>output_references=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pybrat.html#Attribute.to_brat_str"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pybrat.Attribute.to_brat_str" title="Permalink to this definition">¶</a></dt>
<dd><p>Format this Attribute instance as a brat string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>output_references</strong> (<em>bool</em>) – If True, also includes the brat string
of the reference of this Attribute. Default False.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="pybrat.BratAnnotations">
<em class="property">class </em><code class="descclassname">pybrat.</code><code class="descname">BratAnnotations</code><span class="sig-paren">(</span><em>spans</em>, <em>events</em>, <em>attributes</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pybrat.html#BratAnnotations"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pybrat.BratAnnotations" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>The main class for working with brat annotations.</p>
<p>You can read annotations from a file.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pybrat</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">anns</span> <span class="o">=</span> <span class="n">pybrat</span><span class="o">.</span><span class="n">BratAnnotations</span><span class="o">.</span><span class="n">from_file</span><span class="p">(</span><span class="s2">&quot;path/to/file.ann&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>You can also create a set of annotations from Event instances.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pybrat</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">event1</span> <span class="o">=</span> <span class="n">pybrat</span><span class="o">.</span><span class="n">Event</span><span class="p">(</span><span class="s2">&quot;E1&quot;</span><span class="p">,</span> <span class="o">*</span><span class="n">e1spans</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">event2</span> <span class="o">=</span> <span class="n">pybrat</span><span class="o">.</span><span class="n">Event</span><span class="p">(</span><span class="s2">&quot;E2&quot;</span><span class="p">,</span> <span class="o">*</span><span class="n">e2spans</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">anns</span> <span class="o">=</span> <span class="n">pybrat</span><span class="o">.</span><span class="n">BratAnnotations</span><span class="o">.</span><span class="n">from_events</span><span class="p">([</span><span class="n">event1</span><span class="p">,</span> <span class="n">event2</span><span class="p">])</span>
</pre></div>
</div>
<dl class="attribute">
<dt id="pybrat.BratAnnotations.attributes">
<code class="descname">attributes</code><a class="headerlink" href="#pybrat.BratAnnotations.attributes" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="pybrat.BratAnnotations.events">
<code class="descname">events</code><a class="headerlink" href="#pybrat.BratAnnotations.events" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="classmethod">
<dt id="pybrat.BratAnnotations.from_events">
<em class="property">classmethod </em><code class="descname">from_events</code><span class="sig-paren">(</span><em>events_iter</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pybrat.html#BratAnnotations.from_events"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pybrat.BratAnnotations.from_events" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a BratAnnotations instance from a collection of Events.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>events_iter</strong> (<em>List</em><em>[</em><a class="reference internal" href="#pybrat.Event" title="pybrat.Event"><em>Event</em></a><em>]</em>) – An iterable over Event instances.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="pybrat.BratAnnotations.from_file">
<em class="property">classmethod </em><code class="descname">from_file</code><span class="sig-paren">(</span><em>fpath</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pybrat.html#BratAnnotations.from_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pybrat.BratAnnotations.from_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Read brat annotations from the specified file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>fpath</strong> (<em>str</em>) – The path to the ann file.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">a new BratAnnotations instance.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pybrat.BratAnnotations.get_attributes_by_type">
<code class="descname">get_attributes_by_type</code><span class="sig-paren">(</span><em>attr_type</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pybrat.html#BratAnnotations.get_attributes_by_type"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pybrat.BratAnnotations.get_attributes_by_type" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pybrat.BratAnnotations.get_context">
<code class="descname">get_context</code><span class="sig-paren">(</span><em>ann: pybrat.Annotation</em>, <em>window=0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pybrat.html#BratAnnotations.get_context"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pybrat.BratAnnotations.get_context" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pybrat.BratAnnotations.get_events_by_type">
<code class="descname">get_events_by_type</code><span class="sig-paren">(</span><em>event_type</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pybrat.html#BratAnnotations.get_events_by_type"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pybrat.BratAnnotations.get_events_by_type" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pybrat.BratAnnotations.get_highest_level_annotations">
<code class="descname">get_highest_level_annotations</code><span class="sig-paren">(</span><em>type=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pybrat.html#BratAnnotations.get_highest_level_annotations"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pybrat.BratAnnotations.get_highest_level_annotations" title="Permalink to this definition">¶</a></dt>
<dd><p>brat annotations can include only spans, spans + events,
or spans + events + attributes. This method allows one to
get the highest-level annotation available in this file.</p>
<dl class="docutils">
<dt>In order from highest to lowest level:</dt>
<dd>Event
Attribute
Span</dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>type</strong> (<em>str</em>) – (Optional) return annotations with the specified type.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pybrat.BratAnnotations.get_spans_by_type">
<code class="descname">get_spans_by_type</code><span class="sig-paren">(</span><em>span_type</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pybrat.html#BratAnnotations.get_spans_by_type"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pybrat.BratAnnotations.get_spans_by_type" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pybrat.BratAnnotations.save_brat">
<code class="descname">save_brat</code><span class="sig-paren">(</span><em>outdir</em>, <em>filename=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pybrat.html#BratAnnotations.save_brat"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pybrat.BratAnnotations.save_brat" title="Permalink to this definition">¶</a></dt>
<dd><p>Save these brat annotations to a brat-formatted file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>outdir</strong> (<em>str</em>) – The directory in which to save the file.</li>
<li><strong>filename</strong> (<em>str</em>) – (Optional) The filename to use. If not specified,
attempts to use the Annotation._source_file.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="pybrat.BratAnnotations.spans">
<code class="descname">spans</code><a class="headerlink" href="#pybrat.BratAnnotations.spans" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="pybrat.BratText">
<em class="property">class </em><code class="descclassname">pybrat.</code><code class="descname">BratText</code><span class="sig-paren">(</span><em>text=None</em>, <em>sentences=None</em>, <em>tokenizer=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pybrat.html#BratText"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pybrat.BratText" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A simple class for organizing the text that corresponds to a
file of brat annotations.</p>
<p>Specify plain text, split sentences, or both.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">bt</span> <span class="o">=</span> <span class="n">BratText</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="n">plain_text</span><span class="p">,</span> <span class="n">sentences</span><span class="o">=</span><span class="n">list_of_sents</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bt</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">12</span><span class="p">)</span>  <span class="c1"># Plain text at character indices 0 through 12</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bt</span><span class="o">.</span><span class="n">tokens</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">12</span><span class="p">)</span>  <span class="c1"># Tokens spanning character indices 0 through 12</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bt</span><span class="o">.</span><span class="n">sentences</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">12</span><span class="p">)</span>  <span class="c1"># Sentences spanning character indices 0 - 12</span>
</pre></div>
</div>
<p><cite>sentences</cite> can also be a json lines file with the following format:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="o">{</span><span class="s2">&quot;sent_index&quot;</span>: int  <span class="c1"># the number of this sentence in the document</span>
 <span class="s2">&quot;start_char&quot;</span>: int  <span class="c1"># the character offset of the start of the sentence</span>
 <span class="s2">&quot;end_char&quot;</span>: int    <span class="c1"># the character offset of the end of the sentence</span>
 <span class="s2">&quot;_text&quot;</span>:           <span class="c1"># the sentence text</span>
<span class="o">}</span>
</pre></div>
</div>
<p>You can also access the text using Annotation instances</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">anns</span> <span class="o">=</span> <span class="n">BratAnnotations</span><span class="o">.</span><span class="n">from_file</span><span class="p">(</span><span class="s2">&quot;path/to/file1.ann&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bt</span> <span class="o">=</span> <span class="n">BratText</span><span class="o">.</span><span class="n">from_files</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;path/to/file1.txt&quot;</span><span class="p">,</span> <span class="n">sentences</span><span class="o">=</span><span class="s2">&quot;path/to/file1.jsonl&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bt</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">annotations</span><span class="o">=</span><span class="p">[</span><span class="n">anns</span><span class="o">.</span><span class="n">spans</span><span class="p">[</span><span class="mi">0</span><span class="p">]])</span>  <span class="c1"># get the text of the first span</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bt</span><span class="o">.</span><span class="n">tokens</span><span class="p">(</span><span class="n">annotations</span><span class="o">=</span><span class="n">anns</span><span class="o">.</span><span class="n">spans</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">3</span><span class="p">])</span>  <span class="c1"># tokens from the first three spans</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bt</span><span class="o">.</span><span class="n">sentences</span><span class="p">(</span><span class="n">annotations</span><span class="o">=</span><span class="n">anns</span><span class="o">.</span><span class="n">events</span><span class="p">[:])</span>  <span class="c1"># Sentences containing all events</span>
</pre></div>
</div>
<dl class="classmethod">
<dt id="pybrat.BratText.from_files">
<em class="property">classmethod </em><code class="descname">from_files</code><span class="sig-paren">(</span><em>text=None</em>, <em>sentences=None</em>, <em>tokenizer=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pybrat.html#BratText.from_files"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pybrat.BratText.from_files" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pybrat.BratText.sentences">
<code class="descname">sentences</code><span class="sig-paren">(</span><em>start_char: int = None</em>, <em>end_char: int = None</em>, <em>annotations: List[pybrat.Annotation] = []</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pybrat.html#BratText.sentences"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pybrat.BratText.sentences" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pybrat.BratText.text">
<code class="descname">text</code><span class="sig-paren">(</span><em>start_char: int = None</em>, <em>end_char: int = None</em>, <em>annotations: List[pybrat.Annotation] = []</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pybrat.html#BratText.text"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pybrat.BratText.text" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pybrat.BratText.tokens">
<code class="descname">tokens</code><span class="sig-paren">(</span><em>start_char: int = None</em>, <em>end_char: int = None</em>, <em>annotations: List[pybrat.Annotation] = []</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pybrat.html#BratText.tokens"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pybrat.BratText.tokens" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="pybrat.Event">
<em class="property">class </em><code class="descclassname">pybrat.</code><code class="descname">Event</code><span class="sig-paren">(</span><em>_id</em>, <em>*spans</em>, <em>attributes=None</em>, <em>_type='Event'</em>, <em>_source_file=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pybrat.html#Event"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pybrat.Event" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pybrat.Annotation" title="pybrat.Annotation"><code class="xref py py-class docutils literal notranslate"><span class="pre">pybrat.Annotation</span></code></a></p>
<p>A brat event, composed of one or more ordered Span instances.
pybrat does not enforce any specific Event structure.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>_id</strong> (<em>str</em>) – the unique numerical identifier of this event
with the E prefix. E.g., ‘E10’.</li>
<li><strong>spans</strong> (<a class="reference internal" href="#pybrat.Span" title="pybrat.Span"><em>Span</em></a>) – one or more Span instances.</li>
<li><strong>attributes</strong> (<em>dict</em>) – a dictionary of Attribute instances
keyed by attribute type.</li>
<li><strong>_type</strong> (<em>str</em>) – (Optional) A type for this Event. Default is ‘Event’.</li>
<li><strong>_source_file</strong> (<em>str</em>) – (Optional), the name of the .ann file which
contains this span.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="pybrat.Event.end_index">
<code class="descname">end_index</code><a class="headerlink" href="#pybrat.Event.end_index" title="Permalink to this definition">¶</a></dt>
<dd><p>The highest character index of this Event’s spans.</p>
</dd></dl>

<dl class="attribute">
<dt id="pybrat.Event.start_index">
<code class="descname">start_index</code><a class="headerlink" href="#pybrat.Event.start_index" title="Permalink to this definition">¶</a></dt>
<dd><p>The lowest character index of this Event’s spans.</p>
</dd></dl>

<dl class="method">
<dt id="pybrat.Event.to_brat_str">
<code class="descname">to_brat_str</code><span class="sig-paren">(</span><em>output_references=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pybrat.html#Event.to_brat_str"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pybrat.Event.to_brat_str" title="Permalink to this definition">¶</a></dt>
<dd><p>Format this Event instance as a brat string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>output_references</strong> (<em>bool</em>) – If True, also includes the brat string
of the Spans and Attributes of this Event. Default False.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="pybrat.RegexTokenizer">
<em class="property">class </em><code class="descclassname">pybrat.</code><code class="descname">RegexTokenizer</code><span class="sig-paren">(</span><em>split_pattern='\s'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pybrat.html#RegexTokenizer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pybrat.RegexTokenizer" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A very simple tokenizer that splits on whitespace by default.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pybrat</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tokenizer</span> <span class="o">=</span> <span class="n">pybrat</span><span class="o">.</span><span class="n">RegexTokenizer</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">text</span> <span class="o">=</span> <span class="s2">&quot;The cat in the hat&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tokens</span><span class="p">,</span> <span class="n">token_char_ranges</span> <span class="o">=</span> <span class="n">tokenizer</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="class">
<dt id="pybrat.Span">
<em class="property">class </em><code class="descclassname">pybrat.</code><code class="descname">Span</code><span class="sig-paren">(</span><em>_id: str</em>, <em>start_index: int</em>, <em>end_index: int</em>, <em>text: str</em>, <em>_type: str = 'Span'</em>, <em>_source_file: str = None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pybrat.html#Span"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pybrat.Span" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pybrat.Annotation" title="pybrat.Annotation"><code class="xref py py-class docutils literal notranslate"><span class="pre">pybrat.Annotation</span></code></a></p>
<p>A brat span. I.e., a span of text.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>_id</strong> (<em>str</em>) – the unique numerical identifier of this span with the ‘T’
prefix. E.g., ‘T3’.</li>
<li><strong>start_index</strong> (<em>int</em>) – the starting character index of this span
in the associated document.</li>
<li><strong>end_index</strong> (<em>int</em>) – the ending character index of this span
in the associated document.</li>
<li><strong>text</strong> (<em>str</em>) – the actual span text</li>
<li><strong>_type</strong> (<em>str</em>) – (Optional) a string giving the type of this span,
e.g., for NER. Default is ‘Span’.</li>
<li><strong>_source_file</strong> (<em>str</em>) – (Optional), the name of the .ann file which
contains this span.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="pybrat.Span.to_brat_str">
<code class="descname">to_brat_str</code><span class="sig-paren">(</span><em>output_references=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pybrat.html#Span.to_brat_str"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pybrat.Span.to_brat_str" title="Permalink to this definition">¶</a></dt>
<dd><p>Format this Span instance as a brat string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>output_references</strong> (<em>bool</em>) – unused</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="pybrat.parse_brat_attribute">
<code class="descclassname">pybrat.</code><code class="descname">parse_brat_attribute</code><span class="sig-paren">(</span><em>line</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pybrat.html#parse_brat_attribute"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pybrat.parse_brat_attribute" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pybrat.parse_brat_event">
<code class="descclassname">pybrat.</code><code class="descname">parse_brat_event</code><span class="sig-paren">(</span><em>line</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pybrat.html#parse_brat_event"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pybrat.parse_brat_event" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pybrat.parse_brat_span">
<code class="descclassname">pybrat.</code><code class="descname">parse_brat_span</code><span class="sig-paren">(</span><em>line</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pybrat.html#parse_brat_span"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pybrat.parse_brat_span" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="#">pybrat</a></h1>








<h3>Navigation</h3>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="#">Documentation overview</a><ul>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2022, Jake Vasilakes.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.8.4</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.8</a>
      
      |
      <a href="_sources/index.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>